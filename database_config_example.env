# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL
# =====================================================
# Archivo de ejemplo para configurar la conexión a PostgreSQL
# Copiar este archivo como .env en la carpeta server/

# =====================================================
# CONFIGURACIÓN DEL SERVIDOR
# =====================================================
PORT=5000
NODE_ENV=development

# =====================================================
# CONFIGURACIÓN DE BASE DE DATOS POSTGRESQL
# =====================================================

# URL de conexión completa (recomendado para producción)
DATABASE_URL=postgresql://usbmeda_user:secure_password_here@localhost:5432/usbmeda_db

# O configuración individual (alternativa)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=usbmeda_db
DB_USER=usbmeda_user
DB_PASSWORD=secure_password_here

# Configuración de conexión (opcional)
DB_SSL=false
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_TIMEOUT=30000

# =====================================================
# JWT CONFIGURATION
# =====================================================
JWT_SECRET=usbmeda_super_secret_key_2024_change_in_production
JWT_EXPIRES_IN=24h

# =====================================================
# CORS CONFIGURATION
# =====================================================
CLIENT_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000

# =====================================================
# RATE LIMITING CONFIGURATION
# =====================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# =====================================================
# SECURITY CONFIGURATION
# =====================================================
HELMET_ENABLED=true
CORS_ENABLED=true

# =====================================================
# EMAIL CONFIGURATION (Gmail SMTP)
# =====================================================
# IMPORTANTE: Para usar Gmail SMTP necesitas generar una contraseña de aplicación:
# 1. Ve a https://myaccount.google.com/security
# 2. Activa la verificación en dos pasos si no está activada
# 3. Ve a "Contraseñas de aplicaciones" y genera una nueva
# 4. Usa esa contraseña de aplicación aquí, NO tu contraseña normal de Gmail
EMAIL_USER=recompensausbmed@gmail.com
EMAIL_PASS=hquv siuy rtnz fdnh

# Configuración SMTP de Gmail (no modificar)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false

# =====================================================
# INSTRUCCIONES DE CONFIGURACIÓN
# =====================================================

/*
PASOS PARA CONFIGURAR LA BASE DE DATOS:

1. INSTALAR POSTGRESQL:
   - Windows: https://www.postgresql.org/download/windows/
   - macOS: brew install postgresql
   - Ubuntu: sudo apt-get install postgresql postgresql-contrib

2. CREAR BASE DE DATOS Y USUARIO:
   psql -U postgres
   CREATE DATABASE usbmeda_db;
   CREATE USER usbmeda_user WITH PASSWORD 'secure_password_here';
   GRANT ALL PRIVILEGES ON DATABASE usbmeda_db TO usbmeda_user;
   \q

3. EJECUTAR SCRIPTS SQL:
   psql -U usbmeda_user -d usbmeda_db -f database_schema.sql
   psql -U usbmeda_user -d usbmeda_db -f database_puzzles_data.sql

4. CONFIGURAR VARIABLES DE ENTORNO:
   - Copiar este archivo como server/.env
   - Modificar las credenciales según tu configuración
   - Asegurar que DATABASE_URL sea correcta

5. INSTALAR DEPENDENCIAS:
   cd server
   npm install pg

6. PROBAR CONEXIÓN:
   npm run dev
   - El servidor debería conectarse a la base de datos
   - Verificar logs para confirmar conexión exitosa

CONFIGURACIONES RECOMENDADAS:

DESARROLLO:
- DATABASE_URL=postgresql://usbmeda_user:password@localhost:5432/usbmeda_db
- NODE_ENV=development

PRODUCCIÓN:
- DATABASE_URL=postgresql://user:password@host:port/database
- NODE_ENV=production
- JWT_SECRET=clave_muy_segura_y_larga_para_produccion
- DB_SSL=true

SEGURIDAD:
- Cambiar todas las contraseñas por defecto
- Usar contraseñas seguras (mínimo 12 caracteres)
- Habilitar SSL en producción
- Configurar firewall apropiadamente
*/
